(function(){"use strict";var e={6513:function(e,t,o){var a=o(3751),s=o(641);const n={id:"app"},l={class:"content"};function i(e,t,o,a,i,r){const c=(0,s.g2)("HamburgerMenu"),u=(0,s.g2)("router-view"),d=(0,s.g2)("NavBar");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)(c),(0,s.Lk)("div",l,[(0,s.bF)(u)]),(0,s.bF)(d)])}var r=o.p+"img/logout_24dp_5F6368_FILL0_wght400_GRAD0_opsz24.b104db51.svg";function c(e,t,o,a,n,l){return(0,s.uX)(),(0,s.CE)("div",null,[n.isLoggedIn?((0,s.uX)(),(0,s.CE)("div",{key:0,onClick:t[0]||(t[0]=(...e)=>l.logout&&l.logout(...e)),class:"hamburger-menu"},t[1]||(t[1]=[(0,s.Lk)("img",{style:{position:"absolute",right:"0",width:"28px"},src:r,alt:"Logout Icon"},null,-1)]))):(0,s.Q3)("",!0),t[2]||(t[2]=(0,s.Lk)("div",{style:{background:"none",height:"32px"}},null,-1))])}o(4114);var u={name:"HamburgerMenu",data(){return{isLoggedIn:null!==localStorage.getItem("authToken")}},methods:{logout(){localStorage.removeItem("authToken"),this.isOpen=!1,this.$router.push("/login")}}},d=o(6262);const g=(0,d.A)(u,[["render",c],["__scopeId","data-v-3cf2e0c2"]]);var h=g;const v={class:"pos-nav"},p=["src"],m=["src"],k=["src"];function y(e,t,o,a,n,l){return(0,s.uX)(),(0,s.CE)("div",v,[(0,s.Lk)("div",{onClick:t[0]||(t[0]=t=>e.$router.push("/home")),class:"pos-icon"},[(0,s.Lk)("img",{src:a.imageSource2},null,8,p)]),(0,s.Lk)("div",{onClick:t[1]||(t[1]=t=>e.$router.push("/compare")),class:"pos-icon"},[(0,s.Lk)("img",{src:a.imageSource1},null,8,m)]),(0,s.Lk)("div",{onClick:t[2]||(t[2]=t=>e.$router.push("/shoes")),class:"pos-icon"},[(0,s.Lk)("img",{src:a.imageSource3},null,8,k)])])}var f=o(5220),L={name:"NavBar",setup(){const e=(0,f.lq)(),t=(0,s.EW)((()=>e.path.includes("compare"))),a=(0,s.EW)((()=>"/home"===e.path||"/login"===e.path)),n=(0,s.EW)((()=>e.path.includes("shoes"))),l=(0,s.EW)((()=>t.value?o(1904):o(8205))),i=(0,s.EW)((()=>a.value?o(470):o(7905))),r=(0,s.EW)((()=>n.value?o(5769):o(3386)));return{imageSource1:l,imageSource2:i,imageSource3:r,isCompareRoute:t,isHomeRoute:a,isShoeFinderRoute:n}}};const _=(0,d.A)(L,[["render",y]]);var C=_,b=(0,s.pM)({name:"App",components:{HamburgerMenu:h,NavBar:C}});const S=(0,d.A)(b,[["render",i]]);var w=S,E=o(33);var F=o(4335);F.A.create({baseURL:"http://127.0.0.1:5000",headers:{"Content-Type":"application/json"}});var x=o.p+"img/profile-circle.31e7afc4.svg",A=o.p+"img/arrow_back_24dp_3F3F3F_FILL0_wght400_GRAD0_opsz24.111e1742.svg",R=o.p+"img/shoe.97379fef.png",D=o.p+"img/delete_24dp_3F3F3F_FILL0_wght400_GRAD0_opsz24.2aabe4d1.svg";const X={key:0,class:"width"},I={class:"main"},N={class:"container top"},P={class:"content top-c"},K={key:1},T={style:{display:"flex","flex-direction":"row"}},M={class:"container"},Q={class:"content progress-bar"},U={key:0,class:"col"},O={style:{display:"flex","flex-direction":"column"}},B={class:"container"},$={class:"content km-ran"},q={class:"center"},z={class:"container"},W={class:"center"},V={class:"margin name"},G={class:"margin shoe-profile"},H={key:1,class:"width"},j={class:"center"},J={class:"margin name"},Z={class:"margin shoe-profile"},Y={class:"search-container"},ee={key:0,class:"results-bg"},te={class:"results"},oe=["onClick"],ae={class:"shoe-name text-s"},se={key:1,style:{"font-family":"'text'","font-size":"16px"},class:"no-results"},ne={key:2},le={class:"row"},ie={key:3,class:"user-shoes-bg"},re={class:"results"},ce={class:"row shoe"},ue={class:"shoe-name text-s"},de=["onClick"],ge=["disabled"],he=["onClick"],ve={key:0,class:"activities-bg"},pe={class:"results"},me={style:{display:"flex","flex-direction":"row",position:"relative"}},ke={style:{display:"flex","flex-direction":"column","font-family":"'Text'"}},ye={style:{"font-family":"'text-b'"}},fe=["onClick"];function Le(e,t,o,n,l,i){const r=(0,s.g2)("ShoeViewer");return n.profileClicked?((0,s.uX)(),(0,s.CE)("div",H,[(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.toggleProfileView&&n.toggleProfileView(...e)),class:"close-btn"},t[13]||(t[13]=[(0,s.Lk)("img",{style:{height:"32px"},src:A},null,-1)])),(0,s.Lk)("div",j,[(0,s.Lk)("div",{onClick:t[3]||(t[3]=(...e)=>n.toggleProfileView&&n.toggleProfileView(...e)),class:"profile-settings center"},[t[14]||(t[14]=(0,s.Lk)("img",{class:"profile-img",src:x},null,-1)),(0,s.Lk)("h3",J,(0,E.v_)(n.username.toUpperCase()),1),(0,s.Lk)("h4",Z,(0,E.v_)(n.selectedShoe),1)]),(0,s.Lk)("div",Y,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>n.searchQuery=e),placeholder:"Add shoes to account...",class:"search-bar",style:(0,E.Tr)({color:n.searchQuery?"#D6D6D6":"#3F3F3F"})},null,4),[[a.Jo,n.searchQuery]]),t[15]||(t[15]=(0,s.Lk)("svg",{class:"search-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#3F3F3F","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,s.Lk)("circle",{cx:"11",cy:"11",r:"8"}),(0,s.Lk)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1))]),n.searchQuery?((0,s.uX)(),(0,s.CE)("div",ee,[(0,s.Lk)("ul",te,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.filteredData,((e,o)=>((0,s.uX)(),(0,s.CE)("li",{key:o},[(0,s.Lk)("div",{onClick:t=>n.addShoeToAccount(e),class:"row shoe"},[t[16]||(t[16]=(0,s.Lk)("img",{src:R},null,-1)),(0,s.Lk)("div",ae,(0,E.v_)(e.shoe_brand)+" "+(0,E.v_)(e.model_name),1)],8,oe)])))),128))])])):(0,s.Q3)("",!0),n.searchQuery&&n.filteredData.length<1?((0,s.uX)(),(0,s.CE)("p",se," No results found... ")):(0,s.Q3)("",!0),n.userShoes.length>0?((0,s.uX)(),(0,s.CE)("div",ne,[(0,s.Lk)("div",le,[n.manageShoes||n.fetchActivity?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[5]||(t[5]=e=>(n.manageShoes=!n.manageShoes,n.searchQuery="",n.fetchActivity=!1)),class:"btn-shoes"}," Manage shoes ")),n.manageShoes||n.fetchActivity?((0,s.uX)(),(0,s.CE)("button",{key:2,class:"btn-close",onClick:t[7]||(t[7]=e=>(n.fetchActivity=!1,n.manageShoes=!1))},[(0,s.Lk)("u",null,(0,E.v_)(n.manageShoes?"Close shoe manager":"Close activities"),1)])):((0,s.uX)(),(0,s.CE)("button",{key:1,class:"btn-activities",onClick:t[6]||(t[6]=(...e)=>n.fetchLatestActivity&&n.fetchLatestActivity(...e))}," Fetch activity "))])])):(0,s.Q3)("",!0),n.manageShoes&&!n.searchQuery?((0,s.uX)(),(0,s.CE)("div",ie,[(0,s.Lk)("ul",re,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.userShoes,(o=>((0,s.uX)(),(0,s.CE)("li",{key:o.id},[(0,s.Lk)("div",ce,[t[18]||(t[18]=(0,s.Lk)("img",{src:R},null,-1)),(0,s.Lk)("div",ue,(0,E.v_)(o.shoe_brand)+" "+(0,E.v_)(o.model_name),1),o.id!==n.mainShoe?.id?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"btn-shoes-active",onClick:e=>n.setAsMainShoe(o)}," Activate ",8,de)):((0,s.uX)(),(0,s.CE)("button",{key:1,disabled:e.disabled,class:"btn-shoes"},"Active",8,ge)),(0,s.Lk)("p",null,(0,E.v_)(void 0===o.cushioning_percentage||isNaN(o.cushioning_percentage)?"100":Math.round(o.cushioning_percentage))+"% ",1),(0,s.Lk)("div",{onClick:e=>n.removeShoe(o.id)},t[17]||(t[17]=[(0,s.Lk)("img",{style:{width:"22px"},src:D},null,-1)]),8,he)])])))),128))])])):(0,s.Q3)("",!0),(0,s.Lk)("div",null,[n.fetchActivity?((0,s.uX)(),(0,s.CE)("div",ve,[(0,s.Lk)("ul",pe,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.activities,((e,o)=>((0,s.uX)(),(0,s.CE)("li",{key:o,class:"activity-item"},[(0,s.Lk)("div",me,[(0,s.Lk)("div",ke,[(0,s.Lk)("strong",ye,(0,E.v_)(e.name),1),(0,s.Lk)("p",null,"Distance: "+(0,E.v_)(e.distance)+" meters",1)]),(0,s.Lk)("button",{class:"btn-add",onClick:t=>n.addActivity(e,o)},t[19]||(t[19]=[(0,s.Lk)("strong",{style:{"font-size":"16px"}},[(0,s.eW)("Add "),(0,s.Lk)("span",{style:{"font-size":"22px"}},"+")],-1)]),8,fe)])])))),128))])])):(0,s.Q3)("",!0)])])])):((0,s.uX)(),(0,s.CE)("div",X,[t[12]||(t[12]=(0,s.Lk)("h1",{class:"title"},"CUSHIONING STATE",-1)),(0,s.Lk)("div",I,[(0,s.Lk)("div",N,[(0,s.Lk)("div",P,[e.loading?((0,s.uX)(),(0,s.CE)("div",K,"Loading...")):((0,s.uX)(),(0,s.Wv)(r,{key:0,"progress-gradient":n.progressGradient},null,8,["progress-gradient"]))])]),(0,s.Lk)("div",T,[(0,s.Lk)("div",M,[(0,s.Lk)("div",Q,[t[9]||(t[9]=(0,s.Lk)("div",{class:"dashed-line"},null,-1)),(0,s.Lk)("div",{class:"progress",style:(0,E.Tr)({height:n.cushioningPercentage+"%",background:n.progressGradient})},null,4),n.mainShoe?((0,s.uX)(),(0,s.CE)("div",U,[(0,s.Lk)("p",{style:(0,E.Tr)({color:n.cushioningPercentage>20?"#171717":"#fff",fontFamily:"SemiBold, sans-serif"})},(0,E.v_)(n.mileage_remaining)+" KM ",5),(0,s.Lk)("p",{style:(0,E.Tr)({color:n.cushioningPercentage>20?"#171717":"#fff",fontFamily:"SemiBold, sans-serif"})}," REMAINING ",4)])):(0,s.Q3)("",!0),n.mainShoe?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:1,onClick:t[0]||(t[0]=(...e)=>n.toggleProfileView&&n.toggleProfileView(...e)),class:"no-shoe"},t[8]||(t[8]=[(0,s.Lk)("p",{style:{color:"white","font-size":"16px","font-family":"'Light', sans-serif"}}," Add shoe ",-1)])))])]),(0,s.Lk)("div",O,[(0,s.Lk)("div",B,[(0,s.Lk)("div",$,[(0,s.Lk)("div",q,[(0,s.Lk)("h1",null,(0,E.v_)(n.kmRan)+" KM",1),t[10]||(t[10]=(0,s.Lk)("h4",null,"RAN",-1))])])]),(0,s.Lk)("div",z,[(0,s.Lk)("div",{class:"content profile",onClick:t[1]||(t[1]=(...e)=>n.toggleProfileView&&n.toggleProfileView(...e)),style:{cursor:"pointer"}},[(0,s.Lk)("div",W,[t[11]||(t[11]=(0,s.Lk)("img",{class:"profile-img",src:x},null,-1)),(0,s.Lk)("h3",V,(0,E.v_)(n.username.toUpperCase()),1),(0,s.Lk)("h4",G,(0,E.v_)(n.selectedShoe),1)])])])])])])]))}o(8992),o(4520);var _e=o(953);const Ce={id:"shoe-viewer"},be={ref:"canvas"};function Se(e,t,o,a,n,l){return(0,s.uX)(),(0,s.CE)("div",Ce,[t[0]||(t[0]=(0,s.Lk)("div",{class:"bg"},null,-1)),(0,s.Lk)("canvas",be,null,512)])}o(1454),o(3949);var we=o(9437),Ee=o(2763),Fe=o(7024);let xe,Ae,Re,De,Xe,Ie;const Ne=(0,_e.Kh)({r:0,g:0,b:0});function Pe(e){const t=document.getElementById("shoe-viewer");Re=new we.JeP({canvas:e,antialias:!0}),Re.setSize(t.clientWidth,t.clientHeight),Re.setClearColor(0,0),Re.setPixelRatio(window.devicePixelRatio),Re.shadowMap.enabled=!0,Re.shadowMap.type=we.Wk7,xe=new we.Z58;const o=t.clientWidth/t.clientHeight;Ae=new we.ubm(25,o,1,1e3),Ae.position.set(4,5,12),De=new Fe.N(Ae,Re.domElement),De.enableDamping=!0,De.enablePan=!1,De.minDistance=8,De.maxDistance=12,De.minPolarAngle=.6,De.maxPolarAngle=.6*Math.PI,De.target.set(0,0,0),De.update();const a=[new we.ZyN(16777215,20),new we.ZyN(16777215,20),new we.ZyN(16777215,10),new we.ZyN(16777215,10),new we.$p8(16777215,10)];a[0].position.set(0,10,0),a[1].position.set(0,-10,0),a[2].position.set(-10,0,0),a[3].position.set(10,0,0),a[4].position.set(0,0,0),a.forEach((e=>xe.add(e))),window.addEventListener("adjustedTopColorUpdated",(e=>{const t=e.detail,o=t.match(/\d+/g).map(Number);3===o.length?(o.forEach(((e,t)=>{o[t]=Math.min(255,Math.max(0,Math.round(e)))})),Ne.r=o[0],Ne.g=o[1],Ne.b=o[2],Te()):console.error("Invalid color format received:",t)}));const s=new we.YJl;xe.add(s);const n=new Ee.B;n.load("Shoes-Make.gltf",(e=>{Xe=e.scene;const t=(new we.NRn).setFromObject(Xe),o=t.getCenter(new we.Pq0);Xe.position.sub(o),s.add(Xe),Te()})),Ie=Ke();const l=new we.zD7;function i(){const e=l.getElapsedTime();Ie&&(Ie.uniforms.time.value=e),Re.render(xe,Ae),De.update(),requestAnimationFrame(i)}document.addEventListener("DOMContentLoaded",(()=>{setTimeout((()=>{}),1e3)})),i()}function Ke(){const e=Ne.r/255,t=Ne.g/255,o=Ne.b/255;return new we.BKk({uniforms:{time:{value:0},lightDirection:{value:new we.Pq0(1,1,1).normalize()},r:{value:e},g:{value:t},b:{value:o}},vertexShader:"\n            varying vec3 vNormal;\n            varying vec3 vViewPosition;\n            void main() {\n                vNormal = normalize(normalMatrix * normal);\n                vec4 viewPosition = modelViewMatrix * vec4(position, 1.0);\n                vViewPosition = -viewPosition.xyz;\n                gl_Position = projectionMatrix * viewPosition;\n            }\n        ",fragmentShader:"\n            uniform vec3 lightDirection;\n            uniform float r, g, b;\n            varying vec3 vNormal;\n            varying vec3 vViewPosition;\n            void main() {\n                vec3 color = vec3(r, g, b);\n                vec3 normal = normalize(vNormal);\n                vec3 lightDir = normalize(lightDirection);\n                vec3 viewDir = normalize(vViewPosition);\n                float diff = max(dot(normal, lightDir), 0.0);\n                vec3 reflectDir = reflect(-lightDir, normal);\n                float spec = pow(max(dot(viewDir, reflectDir), 0.0), 12.0) * 0.8;\n                vec3 finalColor = (color * diff) + vec3(1.0) * spec * 0.5;\n                gl_FragColor = vec4(finalColor, 1.0);\n            }\n        "})}function Te(){Xe?Xe.traverse((e=>{e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material="Plane"===e.name||"Plane_1"===e.name?Ie:new we.tXL({color:new we.Q1f(0,0,0),shininess:10}))})):console.warn("Shoe model is not loaded yet.")}var Me={name:"ShoeViewer",props:{progressGradient:{type:String,required:!0}},setup(e){const t=(0,_e.KR)(null),o=(0,_e.Kh)({r:20,g:224,b:97}),a=()=>{const e=`rgb(${o.r}, ${o.g}, ${o.b})`,t=new CustomEvent("adjustedTopColorUpdated",{detail:e});window.dispatchEvent(t)},n=()=>{const t=/linear-gradient\([^)]+,\s*(rgb\([^)]+\))\)/,s=e.progressGradient.trim().match(t);if(s&&s[1]){const e=s[1],t=e.match(/\d+(\.\d+)?/g).map(Number);o.r=Math.round(t[0]),o.g=Math.round(t[1]),o.b=Math.round(t[2]),a()}else console.log("No match found for the regex")};return(0,s.sV)((()=>{setTimeout((()=>{n()}),500),(0,s.wB)(o,(()=>{t.value&&Pe(t.value,o)}),{deep:!0,immediate:!0})})),{canvas:t,rgbVue:o,updateRgbVue:a}}};const Qe=(0,d.A)(Me,[["render",Se],["__scopeId","data-v-d5b72dfc"]]);var Ue=Qe,Oe={name:"CushioningStatePage",components:{ShoeViewer:Ue},setup(){const e=(0,_e.KR)(""),t=(0,f.rd)(),o=(0,_e.KR)(!1),a=(0,_e.KR)(!1),n=(0,_e.KR)(!1),l=(0,_e.KR)(""),i=(0,_e.KR)(""),r=(0,_e.KR)(null),c=(0,_e.KR)([]),u=(0,_e.KR)(0),d=(0,_e.KR)([]),g=(0,_e.KR)([]),h=(0,_e.KR)(!1),v=(0,_e.KR)(!1),p=(0,_e.KR)(null),m=(0,_e.KR)(!0),k=(0,_e.KR)(0),y=(0,_e.KR)(0),L=(0,_e.KR)(0),_=()=>t.push("/login"),C=(0,_e.KR)(!1),b=async()=>{C.value?await S():C.value||await D(),C.value=!C.value},S=async()=>{const e=localStorage.getItem("authToken");if(e)try{const t=await F.A.get("http://127.0.0.1:5000/user-profile",{headers:{Authorization:`Bearer ${e}`}}),{username:o,mainShoe:a,userShoes:s}=t.data;c.value=s,l.value=o,n.value=!0,r.value=a,a?(r.value=a,i.value=`${a.shoe_brand} - ${a.model_name}`,k.value=a.cushioning_percentage||0,y.value=a.mileage_run||0,L.value=a.mileage_remaining||0):w(),c.value=s||[],m.value=!1}catch(t){console.error("Error fetching user profile:",t.response?.data||t.message)}else console.error("No token found in localStorage")},w=()=>{r.value=null,i.value="No main shoe selected",k.value=0,y.value=0,L.value=0},E=async e=>{const t=localStorage.getItem("authToken");if(t){console.log("shoeid: "+e.id);try{const o=await F.A.post("http://127.0.0.1:5000/user/set-main-shoe",{model_name:e.model_name},{headers:{Authorization:`Bearer ${t}`}});console.log(o.data.message),await S()}catch(o){console.error("Error setting main shoe:",o.response?.data||o.message)}window.location.reload()}else console.error("No token found in localStorage")},x=async e=>{u.value=0;const t=localStorage.getItem("authToken");if(t)try{await F.A.delete(`http://127.0.0.1:5000/user/remove-shoe/${e}`,{headers:{Authorization:`Bearer ${t}`}}),c.value=c.value.filter((t=>t.id!==e))}catch(o){console.error("Error removing shoe:",o.response?.data||o.message)}else console.error("No token found in localStorage")},A=(0,s.EW)((()=>{const t=e.value.toLowerCase().trim();return d.value.filter((e=>{const o=`${e.shoe_brand} ${e.model_name}`.toLowerCase().includes(t);return o}))})),R=async t=>{e.value="";const a=localStorage.getItem("authToken");if(a)if(t&&t.model_name)try{await F.A.post("http://127.0.0.1:5000/user/add-shoe",{shoe_id:t.id},{headers:{Authorization:`Bearer ${a}`}}),console.log(`Shoe added to user's account: ${t.shoe_brand} - ${t.model_name}`);const e=await S();if(console.log("Updated Profile:",e),c.value.length<2)try{const e=await F.A.post("http://127.0.0.1:5000/user/set-main-shoe",{model_name:t.model_name},{headers:{Authorization:`Bearer ${a}`}});console.log(e.data.message),await S(),window.location.reload()}catch(s){console.error("Error setting main shoe:",s)}else o.value=!0;v.value=!1}catch(s){console.error("Error adding shoe:",s.response?.data||s.message)}else console.error("Invalid shoe object:",t);else console.error("No token found in localStorage")},D=async()=>{try{const e=await F.A.get("http://127.0.0.1:5000/shoes");d.value=e.data}catch(e){console.error("Error fetching shoes:",e.response?.data||e.message)}},X=async()=>{const e=localStorage.getItem("authToken");if(e)try{const t=await F.A.get("http://127.0.0.1:5000/user/mileage-run",{headers:{Authorization:`Bearer ${e}`}}),{mileage_run:o,mileage_remaining:a,cushioning_percentage:s}=t.data;y.value=o,a.value=a,k.value=s}catch(t){console.error("Error fetching mileage:",t.response?.data||t.message)}else console.error("No token found in localStorage")},I=async()=>{try{const e=await F.A.get("http://127.0.0.1:5000/activities");g.value=e.data,console.log("Fetched latest activities:",g.value)}catch(e){console.error("Error fetching latest activity:",e.response?.data||e.message)}a.value=!0},N=async(e,t)=>{const o=localStorage.getItem("authToken");if(o){try{await F.A.post("http://127.0.0.1:5000/update-activities",{activity_id:e.id},{headers:{Authorization:`Bearer ${o}`}}),g.value.splice(t,1)}catch(a){console.error("Error adding activity:",a.response?.data||a.message)}window.location.reload()}else console.error("No token found in localStorage")},P=async()=>{const e=localStorage.getItem("authToken");if(e)try{const t=await F.A.get("http://127.0.0.1:5000/verify-token",{headers:{Authorization:`Bearer ${e}`}});200===t.status?(n.value=!0,await S()):_()}catch(t){console.error("Error verifying token:",t.response?.data||t.message),_()}else _()};(0,s.wB)(k,(e=>{T.value=K(e)}));const K=e=>{if(e>20){const t=e/100,o=`rgb(\n        ${10+235*(1-t)}, \n        ${122+81*(1-t)}, \n        ${52+139*(1-t)})`;return`linear-gradient(to top, #C5CBBF, ${o})`}{const e="rgb(\n        232, \n        82, \n        82)";return`linear-gradient(to top, #E85252, ${e})`}},T=(0,s.EW)((()=>K(k.value)));return(0,s.sV)((()=>{P(),D()})),{isLoggedIn:n,username:l,selectedShoe:i,mainShoe:r,userShoes:c,allShoes:d,activities:g,shoeSelectionOpen:h,showShoeDropdown:v,showOptionsForShoeId:p,cushioningPercentage:k,kmRan:y,mileage_remaining:L,goToLogin:_,toggleProfileView:b,fetchUserProfile:S,setAsMainShoe:E,removeShoe:x,addShoeToAccount:R,searchQuery:e,filteredData:A,fetchAllShoes:D,fetchMileageRun:X,fetchLatestActivity:I,addActivity:N,progressGradient:T,profileClicked:C,manageShoes:o,fetchActivity:a}}};const Be=(0,d.A)(Oe,[["render",Le],["__scopeId","data-v-86a50228"]]);var $e=Be,qe=o.p+"img/eco_24dp_3F3F3F_FILL0_wght400_GRAD0_opsz24.5e82f38b.svg",ze=o.p+"img/shoe-big.8e1f0188.png";const We={class:"width"},Ve={class:"container"},Ge={key:0,class:"title"},He={key:1,class:"search-container"},je={key:2,class:"filters"},Je=["onClick"],Ze=["onClick"],Ye=["onClick"],et=["onClick"],tt={key:0,style:{display:"flex","flex-direction":"row","margin-left":"-22px"}},ot={key:0,style:{"margin-top":"6px","font-size":"18px"}},at={key:1,class:"shoe-details col"},st={class:"tags"},nt={key:0,style:{"white-space":"nowrap",display:"flex","flex-direction":"row"},class:"tag"},lt={class:"tag"},it={class:"tag"},rt={key:1,class:"tag"},ct={key:2,class:"tag"},ut={class:"ratings row"},dt={class:"col spacing-ratings"},gt={class:"container-rating"},ht={style:{"z-index":"2"},class:"center"},vt={class:"col spacing-ratings"},pt={class:"container-rating"},mt={style:{"z-index":"2"},class:"center"},kt={class:"col spacing-ratings"},yt={class:"container-rating"},ft={style:{"z-index":"2"},class:"center"},Lt={key:2,style:{"margin-top":"18px"}},_t={key:3,class:"similar-results-bg"},Ct={class:"results"},bt=["onClick"],St={class:"shoe-name text-s"},wt={class:"col"},Et={style:{"margin-top":"8px"},class:"row ratings-s text-b"},Ft={key:4,class:"results-bg"},xt={key:0,class:"results"},At=["onClick"],Rt={class:"shoe-name text-s"},Dt={class:"col"},Xt={style:{"margin-top":"8px"},class:"row ratings-s text-b"},It={key:1,class:"no-results"};function Nt(e,t,o,n,l,i){return(0,s.uX)(),(0,s.CE)("div",We,[(0,s.Lk)("div",Ve,[n.selectedShoe?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("h1",Ge,"SHOE COMPARISON")),n.selectedShoe?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",He,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e),placeholder:"Search running shoe...",class:"search-bar",style:(0,E.Tr)({color:n.searchQuery?"#D6D6D6":"#3F3F3F"})},null,4),[[a.Jo,n.searchQuery]]),t[2]||(t[2]=(0,s.Lk)("svg",{class:"search-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#3F3F3F","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,s.Lk)("circle",{cx:"11",cy:"11",r:"8"}),(0,s.Lk)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1))])),n.selectedShoe?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",je,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.genderOptions,((e,t)=>((0,s.uX)(),(0,s.CE)("button",{key:t,class:(0,E.C4)(["gender",{genderActive:n.selectedGender===e}]),onClick:t=>n.setFilter("gender",e)},(0,E.v_)(e),11,Je)))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.mileageOptions,((e,t)=>((0,s.uX)(),(0,s.CE)("button",{key:t,class:(0,E.C4)(["mileage",{mileageActive:n.selectedMileage===e}]),onClick:t=>n.setFilter("mileage",e)},(0,E.v_)(e),11,Ze)))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.mainFocusOptions,((e,t)=>((0,s.uX)(),(0,s.CE)("button",{key:t,class:(0,E.C4)(["mainfocus",{mainfocusActive:n.selectedMainFocus===e}]),onClick:t=>n.setFilter("main_focus",e)},(0,E.v_)(e),11,Ye)))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.ecoFriendlyOptions,((e,o)=>((0,s.uX)(),(0,s.CE)("button",{key:o,style:{display:"flex","flex-direction":"row"},class:(0,E.C4)(["ecofriendly",{ecofriendlyActive:n.selectedEcoFriendly===e}]),onClick:t=>n.setFilter("eco_friendly",e)},[(0,s.eW)((0,E.v_)(e)+" ",1),t[3]||(t[3]=(0,s.Lk)("img",{style:{width:"100%","margin-left":"6px",height:"16px"},src:qe},null,-1))],10,et)))),128))])),(0,s.Lk)("div",{style:(0,E.Tr)(n.mainContentStyle),class:"main-content"},[n.selectedShoe?((0,s.uX)(),(0,s.CE)("div",tt,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.closeShoeInformation&&n.closeShoeInformation(...e)),class:"close-btn"},t[4]||(t[4]=[(0,s.Lk)("img",{style:{height:"32px"},src:A},null,-1)])),n.selectedShoe?((0,s.uX)(),(0,s.CE)("h1",ot,(0,E.v_)(n.selectedShoe.shoe_brand)+" "+(0,E.v_)(n.selectedShoe.model_name),1)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),n.selectedShoe?((0,s.uX)(),(0,s.CE)("div",at,[(0,s.Lk)("ul",st,[n.selectedShoe.eco_friendly?((0,s.uX)(),(0,s.CE)("li",nt,t[5]||(t[5]=[(0,s.eW)(" Eco-Friendly "),(0,s.Lk)("img",{style:{width:"100%","margin-left":"6px",height:"16px"},src:qe,alt:"Eco-Friendly Icon"},null,-1)]))):(0,s.Q3)("",!0),(0,s.Lk)("li",lt,"Main focus: "+(0,E.v_)(n.selectedShoe.main_focus),1),(0,s.Lk)("li",it,"Mileage: "+(0,E.v_)(n.selectedShoe.mileage),1),n.selectedShoe.foot_type?((0,s.uX)(),(0,s.CE)("li",rt,"Foot Type: "+(0,E.v_)(n.selectedShoe.foot_type),1)):(0,s.Q3)("",!0),n.selectedShoe.price?((0,s.uX)(),(0,s.CE)("li",ct,"Price: €"+(0,E.v_)(n.selectedShoe.price),1)):(0,s.Q3)("",!0)]),t[9]||(t[9]=(0,s.Lk)("img",{style:{width:"260px",height:"100%"},src:ze,alt:"Shoe Image"},null,-1)),(0,s.Lk)("div",ut,[(0,s.Lk)("div",dt,[t[6]||(t[6]=(0,s.Lk)("p",{class:"center light"},"Cushioning",-1)),(0,s.Lk)("div",gt,[(0,s.Lk)("p",ht,(0,E.v_)(n.selectedShoe.cushioning_rate),1),(0,s.Lk)("div",{style:(0,E.Tr)({height:n.selectedShoe?10*n.selectedShoe.cushioning_rate+"%":"auto",borderRadius:n.selectedShoe&&10===n.selectedShoe.cushioning_rate?"8px":"",background:n.selectedShoe&&n.selectedShoe.cushioning_rate>5?"linear-gradient(to top, #6DBB84, #067631)":"linear-gradient(to top, #C9432F, #C3210F)"}),class:"rating"},null,4)])]),(0,s.Lk)("div",vt,[t[7]||(t[7]=(0,s.Lk)("p",{class:"center light"},"Durability",-1)),(0,s.Lk)("div",pt,[(0,s.Lk)("p",mt,(0,E.v_)(n.selectedShoe.durability_rate),1),(0,s.Lk)("div",{style:(0,E.Tr)({height:n.selectedShoe?10*n.selectedShoe.durability_rate+"%":"auto",borderRadius:n.selectedShoe&&10===n.selectedShoe.durability_rate?"8px":"",background:n.selectedShoe&&n.selectedShoe.durability_rate>5?"linear-gradient(to top, #6DBB84, #067631)":"linear-gradient(to top, #C9432F, #C3210F)"}),class:"rating"},null,4)])]),(0,s.Lk)("div",kt,[t[8]||(t[8]=(0,s.Lk)("p",{class:"center light"},"Pace",-1)),(0,s.Lk)("div",yt,[(0,s.Lk)("p",ft,(0,E.v_)(n.selectedShoe.pace_rate),1),(0,s.Lk)("div",{style:(0,E.Tr)({height:n.selectedShoe?10*n.selectedShoe.pace_rate+"%":"auto",borderRadius:n.selectedShoe&&10===n.selectedShoe.pace_rate?"8px":"",background:n.selectedShoe&&n.selectedShoe.pace_rate>5?"linear-gradient(to top, #6DBB84, #067631)":"linear-gradient(to top, #C9432F, #C3210F)"}),class:"rating"},null,4)])])])])):(0,s.Q3)("",!0),n.selectedShoe?((0,s.uX)(),(0,s.CE)("h4",Lt,"Similar Shoes")):(0,s.Q3)("",!0),n.selectedShoe?((0,s.uX)(),(0,s.CE)("div",_t,[(0,s.Lk)("ul",Ct,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.similarShoes,((e,o)=>((0,s.uX)(),(0,s.CE)("li",{key:o},[(0,s.Lk)("div",{onClick:t=>n.shoeInformation(e),class:"row shoe"},[t[11]||(t[11]=(0,s.Lk)("img",{src:R},null,-1)),(0,s.Lk)("div",St,(0,E.v_)(e.shoe_brand)+" "+(0,E.v_)(e.model_name),1),(0,s.Lk)("div",wt,[t[10]||(t[10]=(0,s.Lk)("div",{class:"row ratings-s text-s"},[(0,s.Lk)("p",null,"CUS"),(0,s.Lk)("p",null,"DUR"),(0,s.Lk)("p",null,"PAC")],-1)),(0,s.Lk)("div",Et,[(0,s.Lk)("p",null,(0,E.v_)(e.cushioning_rate),1),(0,s.Lk)("p",null,(0,E.v_)(e.durability_rate),1),(0,s.Lk)("p",null,(0,E.v_)(e.pace_rate),1)])])],8,bt)])))),128))])])):(0,s.Q3)("",!0),n.selectedShoe?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",Ft,[n.filteredData.length>0?((0,s.uX)(),(0,s.CE)("ul",xt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.filteredData,((e,o)=>((0,s.uX)(),(0,s.CE)("li",{key:o},[(0,s.Lk)("div",{onClick:t=>n.shoeInformation(e),class:"row shoe"},[t[13]||(t[13]=(0,s.Lk)("img",{src:R},null,-1)),(0,s.Lk)("div",Rt,(0,E.v_)(e.shoe_brand)+" "+(0,E.v_)(e.model_name),1),(0,s.Lk)("div",Dt,[t[12]||(t[12]=(0,s.Lk)("div",{class:"row ratings-s text-s"},[(0,s.Lk)("p",null,"CUS"),(0,s.Lk)("p",null,"DUR"),(0,s.Lk)("p",null,"PAC")],-1)),(0,s.Lk)("div",Xt,[(0,s.Lk)("p",null,(0,E.v_)(e.cushioning_rate),1),(0,s.Lk)("p",null,(0,E.v_)(e.durability_rate),1),(0,s.Lk)("p",null,(0,E.v_)(e.pace_rate),1)])])],8,At)])))),128))])):((0,s.uX)(),(0,s.CE)("h4",It,"No results found..."))]))],4)])])}var Pt={name:"ComparePage",setup(){const e=(0,_e.KR)([]),t=(0,_e.KR)(""),o=(0,_e.KR)(null),a=(0,_e.KR)(["Male","Female"]),n=(0,_e.KR)(["High distance coverage"]),l=(0,_e.KR)(["Trail Running","High cushioning","Speed","Stability","Daily Training","Long Distance"]),i=(0,_e.KR)(["Eco friendly"]),r=(0,_e.KR)(null),c=(0,_e.KR)(null),u=(0,_e.KR)(null),d=(0,_e.KR)(null),g=(e,t)=>{"gender"===e&&(r.value=r.value===t?null:t),"mileage"===e&&(c.value=c.value===t?null:t),"main_focus"===e&&(u.value=u.value===t?null:t),"eco_friendly"===e&&(d.value=d.value===t?null:t)},h=async()=>{try{const t=await F.A.get("http://127.0.0.1:5000/compare");e.value=t.data}catch(t){console.error("Error fetching data:",t)}},v=(0,s.EW)((()=>{const o=t.value.toLowerCase().trim();return e.value.filter((e=>{const t=`${e.shoe_brand} ${e.model_name}`.toLowerCase().includes(o),a=!r.value||("Male"===r.value?e.gender.includes("Men")||e.gender.includes("Unisex"):"Female"!==r.value||(e.gender.includes("Women")||e.gender.includes("Unisex"))),s=!c.value||e.mileage>800,n=!u.value||e.main_focus.toLowerCase().includes(u.value.toLowerCase())||"High cushioning"===u.value&&e.main_focus.toLowerCase().includes("cushion")||"Speed"===u.value&&(e.main_focus.toLowerCase().includes("sprint")||e.main_focus.toLowerCase().includes("race")||e.main_focus.toLowerCase().includes("speed"))||"Stability"===u.value&&e.main_focus.toLowerCase().includes("stability")||"Daily Training"===u.value&&e.main_focus.toLowerCase().includes("training")||"Long Distance"===u.value&&e.main_focus.toLowerCase().includes("distance"),l=!d.value||!0===e.eco_friendly;return t&&a&&s&&n&&l}))})),p=e=>{if(!o.value)return 0;let t=0;return t+=e.cushioning_rate===o.value.cushioning_rate?1:0,t+=e.durability_rate===o.value.durability_rate?1:0,t+=e.pace_rate===o.value.pace_rate?1:0,t/3},m=(0,s.EW)((()=>o.value?e.value.map((e=>{const t=p(e);return{...e,similarityScore:t}})).filter((e=>e.similarityScore>.5)).sort(((e,t)=>t.similarityScore-e.similarityScore)):[])),k=(0,s.EW)((()=>o.value?"height: 78%;":"height: 52%;"));return(0,s.wB)(t,(()=>{""!==t.value.trim()&&(o.value=null,c.value=null,u.value=null,d.value=null)})),(0,s.sV)(h),{data:e,searchQuery:t,filteredData:v,selectedShoe:o,genderOptions:a,mileageOptions:n,similarShoes:m,mainFocusOptions:l,ecoFriendlyOptions:i,selectedGender:r,selectedMileage:c,selectedMainFocus:u,selectedEcoFriendly:d,setFilter:g,shoeInformation:e=>{o.value=e,t.value="",console.log(e)},closeShoeInformation:()=>o.value=null,mainContentStyle:k}}};const Kt=(0,d.A)(Pt,[["render",Nt],["__scopeId","data-v-4c23a00a"]]);var Tt=Kt,Mt=o.p+"img/replay_24dp_3F3F3F_FILL0_wght400_GRAD0_opsz24.dd29cc2c.svg";const Qt={key:0,class:"pos-back"},Ut={class:"questionNum"},Ot={key:1,class:"pos-restart"},Bt={style:{"flex-direction":"row"}},$t={class:"width"},qt={key:0,class:"container"},zt={key:0,class:"title"},Wt={key:0,class:"pos-btn"},Vt={key:1,class:"pos-btn"},Gt=["onClick"],Ht={key:2},jt=["onClick"],Jt={key:3},Zt=["onClick"],Yt={key:4},eo={class:"slider-container"},to={style:{position:"absolute",width:"77%",left:"50%",transform:"translateX(-50%)"}},oo=["disabled"],ao={key:1,class:"main-content"},so={key:0,style:{"margin-top":"6px","font-size":"18px",width:"80%"}},no={key:1,class:"shoe-details col"},lo={class:"tags"},io={key:0,style:{"white-space":"nowrap",display:"flex","flex-direction":"row"},class:"tag"},ro={class:"tag"},co={class:"tag"},uo={key:1,class:"tag"},go={key:2,class:"tag"},ho={class:"ratings row"},vo={class:"col spacing-ratings"},po={class:"container-rating"},mo={style:{"z-index":"2"},class:"center"},ko={class:"col spacing-ratings"},yo={class:"container-rating"},fo={style:{"z-index":"2"},class:"center"},Lo={class:"col spacing-ratings"},_o={class:"container-rating"},Co={style:{"z-index":"2"},class:"center"},bo={key:2,style:{"margin-top":"18px"}},So={key:3,class:"results-bg"},wo={class:"results"},Eo=["onClick"],Fo={class:"shoe-name text-s"},xo={class:"col"},Ao={style:{"margin-top":"8px"},class:"row ratings-s text-b"},Ro={key:4,class:"results-bg"},Do={key:0,class:"results"},Xo=["onClick"],Io={class:"shoe-name text-s"},No={class:"col"},Po={style:{"margin-top":"8px"},class:"row ratings-s text-b"},Ko={key:1,class:"no-results"};function To(e,t,o,n,l,i){return(0,s.uX)(),(0,s.CE)(s.FK,null,[n.questionNum>0&&n.questionNum<=4?((0,s.uX)(),(0,s.CE)("div",Qt,[(0,s.Lk)("div",{style:{"flex-direction":"column"},onClick:t[0]||(t[0]=e=>n.questionNum--)},[(0,s.Lk)("p",Ut,(0,E.v_)(n.questionNum)+" / 4",1),t[7]||(t[7]=(0,s.Lk)("img",{style:{"margin-top":"12px"},src:A},null,-1))])])):(0,s.Q3)("",!0),n.questionNum>4?((0,s.uX)(),(0,s.CE)("div",Ot,[(0,s.Lk)("div",Bt,[(0,s.Lk)("img",{onClick:t[1]||(t[1]=e=>n.questionNum--),style:{height:"32px"},src:A}),(0,s.Lk)("img",{onClick:t[2]||(t[2]=e=>n.questionNum=0),style:{height:"32px","margin-left":"-14px"},src:Mt})])])):(0,s.Q3)("",!0),(0,s.Lk)("div",$t,[n.questionNum<=4?((0,s.uX)(),(0,s.CE)("div",qt,[0===n.questionNum?((0,s.uX)(),(0,s.CE)("h1",zt,"SHOE FINDER")):(0,s.Q3)("",!0),(0,s.Lk)("div",{style:(0,E.Tr)(3==n.questionNum?"bottom: -88px; position: absolute":0!==n.questionNum?"bottom: -38px; position: absolute":""),class:"content"},[(0,s.Lk)("p",{style:(0,E.Tr)(4==n.questionNum?"margin-bottom: 12px":""),class:"question"},(0,E.v_)(n.question[n.questionNum]),5),0===n.questionNum?((0,s.uX)(),(0,s.CE)("div",Wt,[(0,s.Lk)("button",{class:"btn-gradient",onClick:t[3]||(t[3]=e=>n.questionNum++)},"START")])):(0,s.Q3)("",!0),1===n.questionNum?((0,s.uX)(),(0,s.CE)("div",Vt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.genderOptions,((e,t)=>((0,s.uX)(),(0,s.CE)("button",{key:t,class:"btn-option",onClick:t=>n.setFilter("gender",e)},(0,E.v_)(e),9,Gt)))),128))])):(0,s.Q3)("",!0),2===n.questionNum?((0,s.uX)(),(0,s.CE)("div",Ht,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.mainFocusOptions,((e,t)=>((0,s.uX)(),(0,s.CE)("button",{key:t,class:"btn-option",onClick:t=>n.setFilter("main_focus",e)},(0,E.v_)(e),9,jt)))),128))])):(0,s.Q3)("",!0),3===n.questionNum?((0,s.uX)(),(0,s.CE)("div",Jt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.footTypeOptions,((e,t)=>((0,s.uX)(),(0,s.CE)("button",{key:t,class:"btn-option",onClick:t=>n.setFilter("foot_type",e)},(0,E.v_)(e),9,Zt)))),128))])):(0,s.Q3)("",!0),4===n.questionNum?((0,s.uX)(),(0,s.CE)("div",Yt,[(0,s.Lk)("div",eo,[(0,s.Lk)("div",to,[n.plannedMaxDistance?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"value-box",style:(0,E.Tr)({left:`${n.sliderPosition}%`,transform:"translateX(-50%)"})},(0,E.v_)(n.plannedMaxDistance),5)):(0,s.Q3)("",!0)]),(0,s.bo)((0,s.Lk)("input",{class:"slider","onUpdate:modelValue":t[4]||(t[4]=e=>n.plannedMaxDistance=e),min:"0",max:"50",step:"5",type:"range",onInput:t[5]||(t[5]=(...e)=>n.updateSliderPosition&&n.updateSliderPosition(...e)),style:(0,E.Tr)(n.sliderBackgroundStyle)},null,36),[[a.Jo,n.plannedMaxDistance]]),t[8]||(t[8]=(0,s.Fv)('<div class="planned-distances" data-v-07feb25b><p class="dist" style="left:0;" data-v-07feb25b>0</p><p class="dist" style="left:20%;" data-v-07feb25b>10</p><p class="dist" style="left:40%;" data-v-07feb25b>20</p><p class="dist" style="left:60%;" data-v-07feb25b>30</p><p class="dist" style="left:80%;" data-v-07feb25b>40</p><p class="dist" style="left:100%;" data-v-07feb25b>50</p></div>',1))]),(0,s.Lk)("button",{class:"btn-gradient",onClick:t[6]||(t[6]=e=>n.setFilter("mileage",n.plannedMaxDistance)),disabled:!n.plannedMaxDistance,style:{"z-index":"10"}}," CONTINUE ",8,oo)])):(0,s.Q3)("",!0)],4)])):((0,s.uX)(),(0,s.CE)("div",ao,[t[18]||(t[18]=(0,s.Lk)("h1",{class:"title-end"},"SHOE MATCH",-1)),n.selectedShoe?((0,s.uX)(),(0,s.CE)("h1",so,(0,E.v_)(n.selectedShoe.shoe_brand)+" "+(0,E.v_)(n.selectedShoe.model_name),1)):(0,s.Q3)("",!0),n.selectedShoe?((0,s.uX)(),(0,s.CE)("div",no,[(0,s.Lk)("ul",lo,[n.selectedShoe.eco_friendly?((0,s.uX)(),(0,s.CE)("li",io,t[9]||(t[9]=[(0,s.eW)(" Eco-Friendly "),(0,s.Lk)("img",{style:{width:"100%","margin-left":"6px",height:"16px"},src:qe,alt:"Eco-Friendly Icon"},null,-1)]))):(0,s.Q3)("",!0),(0,s.Lk)("li",ro,"Main focus: "+(0,E.v_)(n.selectedShoe.main_focus),1),(0,s.Lk)("li",co,"Mileage: "+(0,E.v_)(n.selectedShoe.mileage),1),n.selectedShoe.foot_type?((0,s.uX)(),(0,s.CE)("li",uo,"Foot Type: "+(0,E.v_)(n.selectedShoe.foot_type),1)):(0,s.Q3)("",!0),n.selectedShoe.price?((0,s.uX)(),(0,s.CE)("li",go,"Price: €"+(0,E.v_)(n.selectedShoe.price),1)):(0,s.Q3)("",!0)]),t[13]||(t[13]=(0,s.Lk)("img",{style:{width:"260px",height:"100%"},src:ze,alt:"Shoe Image"},null,-1)),(0,s.Lk)("div",ho,[(0,s.Lk)("div",vo,[t[10]||(t[10]=(0,s.Lk)("p",{class:"center light"},"Cushioning",-1)),(0,s.Lk)("div",po,[(0,s.Lk)("p",mo,(0,E.v_)(n.selectedShoe.cushioning_rate),1),(0,s.Lk)("div",{style:(0,E.Tr)({height:n.selectedShoe?10*n.selectedShoe.cushioning_rate+"%":"auto",borderRadius:n.selectedShoe&&10===n.selectedShoe.cushioning_rate?"8px":"",background:n.selectedShoe&&n.selectedShoe.cushioning_rate>5?"linear-gradient(to top, #6DBB84, #067631)":"linear-gradient(to top, #C9432F, #C3210F)"}),class:"rating"},null,4)])]),(0,s.Lk)("div",ko,[t[11]||(t[11]=(0,s.Lk)("p",{class:"center light"},"Durability",-1)),(0,s.Lk)("div",yo,[(0,s.Lk)("p",fo,(0,E.v_)(n.selectedShoe.durability_rate),1),(0,s.Lk)("div",{style:(0,E.Tr)({height:n.selectedShoe?10*n.selectedShoe.durability_rate+"%":"auto",borderRadius:n.selectedShoe&&10===n.selectedShoe.durability_rate?"8px":"",background:n.selectedShoe&&n.selectedShoe.durability_rate>5?"linear-gradient(to top, #6DBB84, #067631)":"linear-gradient(to top, #C9432F, #C3210F)"}),class:"rating"},null,4)])]),(0,s.Lk)("div",Lo,[t[12]||(t[12]=(0,s.Lk)("p",{class:"center light"},"Pace",-1)),(0,s.Lk)("div",_o,[(0,s.Lk)("p",Co,(0,E.v_)(n.selectedShoe.pace_rate),1),(0,s.Lk)("div",{style:(0,E.Tr)({height:n.selectedShoe?10*n.selectedShoe.pace_rate+"%":"auto",borderRadius:n.selectedShoe&&10===n.selectedShoe.pace_rate?"8px":"",background:n.selectedShoe&&n.selectedShoe.pace_rate>5?"linear-gradient(to top, #6DBB84, #067631)":"linear-gradient(to top, #C9432F, #C3210F)"}),class:"rating"},null,4)])])])])):(0,s.Q3)("",!0),n.selectedShoe?((0,s.uX)(),(0,s.CE)("h4",bo,"Similar Shoes")):(0,s.Q3)("",!0),n.selectedShoe?((0,s.uX)(),(0,s.CE)("div",So,[(0,s.Lk)("ul",wo,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.similarShoes,((e,o)=>((0,s.uX)(),(0,s.CE)("li",{key:o},[(0,s.Lk)("div",{onClick:t=>n.shoeInformation(e),class:"row shoe"},[t[15]||(t[15]=(0,s.Lk)("img",{src:R},null,-1)),(0,s.Lk)("div",Fo,(0,E.v_)(e.shoe_brand)+" "+(0,E.v_)(e.model_name),1),(0,s.Lk)("div",xo,[t[14]||(t[14]=(0,s.Lk)("div",{class:"row ratings-s text-s"},[(0,s.Lk)("p",null,"CUS"),(0,s.Lk)("p",null,"DUR"),(0,s.Lk)("p",null,"PAC")],-1)),(0,s.Lk)("div",Ao,[(0,s.Lk)("p",null,(0,E.v_)(e.cushioning_rate),1),(0,s.Lk)("p",null,(0,E.v_)(e.durability_rate),1),(0,s.Lk)("p",null,(0,E.v_)(e.pace_rate),1)])])],8,Eo)])))),128))])])):(0,s.Q3)("",!0),n.selectedShoe?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",Ro,[n.filteredData.length>0?((0,s.uX)(),(0,s.CE)("ul",Do,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.filteredData,((e,o)=>((0,s.uX)(),(0,s.CE)("li",{key:o},[(0,s.Lk)("div",{onClick:t=>n.shoeInformation(e),class:"row shoe"},[t[17]||(t[17]=(0,s.Lk)("img",{src:R},null,-1)),(0,s.Lk)("div",Io,(0,E.v_)(e.shoe_brand)+" "+(0,E.v_)(e.model_name),1),(0,s.Lk)("div",No,[t[16]||(t[16]=(0,s.Lk)("div",{class:"row ratings-s text-s"},[(0,s.Lk)("p",null,"CUS"),(0,s.Lk)("p",null,"DUR"),(0,s.Lk)("p",null,"PAC")],-1)),(0,s.Lk)("div",Po,[(0,s.Lk)("p",null,(0,E.v_)(e.cushioning_rate),1),(0,s.Lk)("p",null,(0,E.v_)(e.durability_rate),1),(0,s.Lk)("p",null,(0,E.v_)(e.pace_rate),1)])])],8,Xo)])))),128))])):((0,s.uX)(),(0,s.CE)("h4",Ko,"No results found..."))]))]))])],64)}o(7550);var Mo={name:"ComparePage",setup(){const e=(0,_e.KR)(0),t=(0,_e.KR)(["Answer 4 quick questions to find the perfect running shoes for you!","What type of shoes are you looking for?","What is your main focus?","What describes your foot type best?","Wat is the longest distance you plan to run in this shoes?"]),o=(0,_e.KR)({background:"linear-gradient(to right, #14DF61 50%, #D9D9D9 50%)"}),a=(0,_e.KR)([]),n=(0,_e.KR)(""),l=(0,_e.KR)(null),i=(0,_e.KR)(null),r=(0,_e.KR)(50),c=(0,_e.KR)(["MALE","FEMALE"]),u=(0,_e.KR)(["DURABILITY","SPEED","TRAIL RUNNING","ALL-ROUND"]),d=(0,_e.KR)(["SMALL FEET","NARROW FEET","NEUTRAL","HIGH ARCHES","FLAT FEET","WIDE FEET"]),g=(0,_e.KR)(null),h=(0,_e.KR)(null),v=(0,_e.KR)(null),p=(0,_e.KR)(null),m=()=>{const e=L.value||[];console.log("Filtered Results:",e),e.length>0?(l.value=e[Math.floor(Math.random()*e.length)],console.log("Selected Shoe:",l.value)):(console.warn("No shoes match the selected criteria."),l.value=null)},k=(t,o)=>{e.value+=1,"gender"===t&&(g.value=g.value===o?null:o),"mileage"===t&&(h.value=h.value===i.value?null:i.value),"main_focus"===t&&(v.value=v.value===o?null:o),"foot_type"===t&&(p.value=p.value===o?null:o),e.value>4&&(L.value.length>0?m():(console.warn("No shoes match the selected criteria."),l.value=null))},y=async()=>{try{const e=await F.A.get("http://127.0.0.1:5000/compare");a.value=e.data}catch(e){console.error("Error fetching data:",e)}},f=(0,s.EW)((()=>{const e=n.value.toLowerCase().trim();return a.value.filter((t=>{const o=`${t.shoe_brand} ${t.model_name}`.toLowerCase().includes(e),a=!g.value||("MALE"===g.value?t.gender.includes("Men")||t.gender.includes("Unisex"):"FEMALE"!==g.value||(t.gender.includes("Women")||t.gender.includes("Unisex"))),s=!v.value||t.main_focus.toLowerCase().includes(v.value.toLowerCase()),n=!p.value||(Array.isArray(t.foot_type)?t.foot_type.some((e=>e.toLowerCase().includes(p.value.toLowerCase()))):t.foot_type?.toLowerCase().includes(p.value.toLowerCase()));return o&&a&&s&&n}))})),L=(0,s.EW)((()=>{const e=n.value.toLowerCase().trim(),t=a.value.filter((t=>{const o=`${t.shoe_brand} ${t.model_name}`.toLowerCase().includes(e),a=!g.value||("MALE"===g.value?t.gender.includes("Men")||t.gender.includes("Unisex"):"FEMALE"!==g.value||(t.gender.includes("Women")||t.gender.includes("Unisex"))),s=!v.value||t.main_focus.toLowerCase().includes(v.value.toLowerCase())||"DURABILITY"===v.value&&(t.main_focus.toLowerCase().includes("long distance")||t.main_focus.toLowerCase().includes("cushioned"))||"SPEED"===v.value&&(t.main_focus.toLowerCase().includes("sprint")||t.main_focus.toLowerCase().includes("race")||t.main_focus.toLowerCase().includes("speed"))||"TRAIL RUNNING"===v.value&&t.main_focus.toLowerCase().includes("trail")||"ALL-ROUND"===v.value&&(t.main_focus.toLowerCase().includes("daily training")||t.main_focus.toLowerCase().includes("neutral")||t.main_focus.toLowerCase().includes("stability")),n=!p.value||(Array.isArray(t.foot_type)?t.foot_type.some((e=>e.toLowerCase().includes(p.value.toLowerCase()))):t.foot_type?.toLowerCase().includes(p.value.toLowerCase())),l=!i.value||i.value<=10&&t.mileage<655.6||i.value>10&&i.value<=20&&t.mileage<789.2||i.value>20&&i.value<=30&&t.mileage<922.8||i.value>30&&i.value<=40&&t.mileage<1056.4||i.value>40&&i.value<=50&&t.mileage<=1190;return o&&a&&s&&n&&l}));return t.length>0?t:f.value||[]})),_=()=>{r.value=i.value/50*100,o.value={background:`linear-gradient(to right, #14DF61 ${r.value}%, #D9D9D9 ${r.value}%)`}},C=e=>{if(!l.value)return 0;let t=0;return t+=e.cushioning_rate===l.value.cushioning_rate?1:0,t+=e.durability_rate===l.value.durability_rate?1:0,t+=e.pace_rate===l.value.pace_rate?1:0,t/3},b=(0,s.EW)((()=>l.value?a.value.map((e=>{const t=C(e);return{...e,similarityScore:t}})).filter((e=>e.similarityScore>.5)).sort(((e,t)=>t.similarityScore-e.similarityScore)):[]));return(0,s.sV)(y),{data:a,question:t,questionNum:e,searchQuery:n,filteredData:L,selectedShoe:l,genderOptions:c,similarShoes:b,mainFocusOptions:u,footTypeOptions:d,selectedGender:g,selectedMileage:h,sliderBackgroundStyle:o,selectedMainFocus:v,selectedFootType:p,plannedMaxDistance:i,sliderPosition:r,updateSliderPosition:_,setFilter:k,shoeInformation:e=>{l.value=e,n.value="",console.log(e)}}}};const Qo=(0,d.A)(Mo,[["render",To],["__scopeId","data-v-07feb25b"]]);var Uo=Qo;const Oo={class:"width"},Bo={key:0,class:"form-container"},$o={class:"error"},qo={key:1,class:"form-container"},zo={class:"error"};function Wo(e,t,o,n,l,i){return(0,s.uX)(),(0,s.CE)("div",Oo,[n.isLoginVisible?((0,s.uX)(),(0,s.CE)("div",Bo,[t[11]||(t[11]=(0,s.Lk)("h1",{class:"title"},"LOGIN",-1)),(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.handleLogin&&n.handleLogin(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{class:"search-bar",style:(0,E.Tr)({color:n.loginEmail?"#D6D6D6":"#3F3F3F"}),type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.loginEmail=e),placeholder:"Email",required:""},null,4),[[a.Jo,n.loginEmail]]),(0,s.bo)((0,s.Lk)("input",{class:"search-bar",style:(0,E.Tr)({color:n.loginPassword?"#D6D6D6":"#3F3F3F"}),type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.loginPassword=e),placeholder:"Password",required:""},null,4),[[a.Jo,n.loginPassword]]),t[9]||(t[9]=(0,s.Lk)("button",{type:"submit"}," LOGIN ",-1)),(0,s.Lk)("p",$o,(0,E.v_)(n.loginError),1)],32),(0,s.Lk)("p",null,[t[10]||(t[10]=(0,s.eW)(" Don't have an account? ")),(0,s.Lk)("a",{href:"#",onClick:t[3]||(t[3]=(...e)=>n.toggleForms&&n.toggleForms(...e))},"Sign Up")])])):((0,s.uX)(),(0,s.CE)("div",qo,[t[14]||(t[14]=(0,s.Lk)("h1",{class:"title"},"REGISTER",-1)),(0,s.Lk)("form",{onSubmit:t[7]||(t[7]=(0,a.D$)(((...e)=>n.handleSignUp&&n.handleSignUp(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{class:"search-bar",style:(0,E.Tr)({color:n.signupUsername?"#D6D6D6":"#3F3F3F"}),type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>n.signupUsername=e),placeholder:"Username",required:""},null,4),[[a.Jo,n.signupUsername]]),(0,s.bo)((0,s.Lk)("input",{class:"search-bar",style:(0,E.Tr)({color:n.signupEmail?"#D6D6D6":"#3F3F3F"}),type:"email","onUpdate:modelValue":t[5]||(t[5]=e=>n.signupEmail=e),placeholder:"Email",required:""},null,4),[[a.Jo,n.signupEmail]]),(0,s.bo)((0,s.Lk)("input",{class:"search-bar",style:(0,E.Tr)({color:n.signupPassword?"#D6D6D6":"#3F3F3F"}),type:"password","onUpdate:modelValue":t[6]||(t[6]=e=>n.signupPassword=e),placeholder:"Password",required:""},null,4),[[a.Jo,n.signupPassword]]),t[12]||(t[12]=(0,s.Lk)("button",{type:"submit"},"SIGN UP",-1)),(0,s.Lk)("p",zo,(0,E.v_)(n.signupError),1)],32),(0,s.Lk)("p",null,[t[13]||(t[13]=(0,s.eW)(" Already have an account? ")),(0,s.Lk)("a",{href:"#",onClick:t[8]||(t[8]=(...e)=>n.toggleForms&&n.toggleForms(...e))},"Login")])]))])}var Vo={name:"LoginPage",setup(){const e=(0,f.rd)(),t=(0,_e.KR)(!0),o=(0,_e.KR)(""),a=(0,_e.KR)(""),s=(0,_e.KR)(""),n=(0,_e.KR)(""),l=(0,_e.KR)(""),i=(0,_e.KR)(""),r=(0,_e.KR)(""),c=()=>{t.value=!t.value,i.value="",r.value=""},u=async()=>{if(o.value&&a.value)try{const t=await F.A.post("http://127.0.0.1:5000/login",{email:o.value,password:a.value});localStorage.setItem("authToken",t.data.token),e.push("/connect-strava")}catch(t){console.error("Login failed:",t.response?.data||t.message),t.response?i.value=t.response.data.error||"Login failed. Please try again.":t.request?i.value="No response from server. Please check the backend connection.":i.value=`Error: ${t.message}`}},d=async()=>{if(s.value&&n.value&&l.value)try{const e=await F.A.post("http://127.0.0.1:5000/register",{email:n.value,username:s.value,password:l.value},{timeout:1e4});console.log("Registration successful",e),window.location.reload()}catch(e){console.error("Sign-up failed:",e),e.response?r.value=e.response.data.error||"An error occurred. Please try again.":e.request?r.value="No response from server. Please check the backend connection.":r.value=`Error: ${e.message}`}};return{isLoginVisible:t,loginEmail:o,loginPassword:a,signupUsername:s,signupEmail:n,signupPassword:l,loginError:i,signupError:r,toggleForms:c,handleLogin:u,handleSignUp:d}}};const Go=(0,d.A)(Vo,[["render",Wo],["__scopeId","data-v-827b6daa"]]);var Ho=Go;const jo={class:"container"},Jo={class:"height"};function Zo(e,t,o,a,n,l){return(0,s.uX)(),(0,s.CE)("div",jo,[(0,s.Lk)("div",Jo,[t[1]||(t[1]=(0,s.Lk)("h1",{class:"title"},"STRAVA CONNECT",-1)),t[2]||(t[2]=(0,s.Lk)("p",null,"To proceed, please connect your Strava account to synchronize your data.",-1)),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.connectStrava&&l.connectStrava(...e))},"CONNECT")])])}var Yo={name:"StravaPage",methods:{connectStrava(){window.location.href="http://127.0.0.1:5000/connect_strava"}}};const ea=(0,d.A)(Yo,[["render",Zo],["__scopeId","data-v-15b60f68"]]);var ta=ea;const oa=[{path:"/compare",name:"ComparePage",component:Tt},{path:"/login",name:"Login",component:Ho},{path:"/home",name:"Home",component:$e},{path:"/shoes",name:"Shoes",component:Uo},{path:"/connect-strava",name:"StravaPage",component:ta}],aa=(0,f.aE)({history:(0,f.LA)(),routes:oa});var sa=aa,na=o(4128);const la={apiKey:"AIzaSyByh_sGgAydZA6ihF6bOrSWWgBZdLHCGBg",authDomain:"runw-dc68c.firebaseapp.com",projectId:"runw-dc68c",storageBucket:"runw-dc68c.appspot.com",messagingSenderId:"945557284271",appId:"1:945557284271:web:c94ad07831884155f97b5a"},ia=(0,na.Wp)(la);console.log("Firebase App:",ia),(0,a.Ef)(w).use(sa).mount("#app")},1904:function(e,t,o){e.exports=o.p+"img/Compare-active.20ac055c.svg"},8205:function(e,t,o){e.exports=o.p+"img/Compare.878934d5.svg"},470:function(e,t,o){e.exports=o.p+"img/Cushioning-state-active.59eb8596.svg"},5769:function(e,t,o){e.exports=o.p+"img/Shoe-finder-active.a9b9c0af.svg"},3386:function(e,t,o){e.exports=o.p+"img/Shoe-finder.40775fdd.svg"},7905:function(e,t,o){e.exports=o.p+"img/Shoe.d9ab8587.svg"}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,a,s,n){if(!a){var l=1/0;for(u=0;u<e.length;u++){a=e[u][0],s=e[u][1],n=e[u][2];for(var i=!0,r=0;r<a.length;r++)(!1&n||l>=n)&&Object.keys(o.O).every((function(e){return o.O[e](a[r])}))?a.splice(r--,1):(i=!1,n<l&&(l=n));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,s,n]}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,n,l=a[0],i=a[1],r=a[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(r)var u=r(o)}for(t&&t(a);c<l.length;c++)n=l[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},a=self["webpackChunkhci_proto"]=self["webpackChunkhci_proto"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(6513)}));a=o.O(a)})();
//# sourceMappingURL=app.30d445a4.js.map